# Version 0.1.9 Release Plan - CRITICAL UPDATE

## üö® CRITICAL ISSUE: DEPLOYMENT SCRIPTS BROKEN

**Status**: DEPLOYMENT INFRASTRUCTURE NON-FUNCTIONAL
- **Root Cause**: All deployment scripts have incorrect path references
- **Package.json expects**: `./scripts/deployment/deploy.sh` 
- **Actual location**: `deployment/scripts/deploy.sh`
- **Impact**: `bun deploy:dry-run` and all deployment commands FAIL COMPLETELY

## üîó ADDITIONAL REQUIREMENT: Main-Kangaroo Linking

**User Request**: Link main repo release to built assets of Kangaroo
**Implementation**: Need to ensure main repository release includes:
- Links to kangaroo desktop app download URLs
- Reference to cross-platform installers
- Integration between webapp and desktop releases

## 1. Project Structure Analysis (UNCHANGED)
- **Main Repository**: requests-and-offers (v0.1.8 ‚Üí v0.1.9)
- **Submodule**: kangaroo-electron (40 commits ahead, needs update)
- **Homebrew**: Cask formula at v0.1.8, needs version and SHA update
- **CI/CD**: Full GitHub Actions workflow in place for kangaroo-electron
- **Deployment Scripts**: ‚ùå **COMPLETELY BROKEN** - non-functional

## 2. Release Components Required

### A. Core Application
1. **Version Update**: package.json: 0.1.8 ‚Üí 0.1.9
2. **Changelog Update**: Add v0.1.9 section with recent commits
3. **Git Tag**: Create v0.1.9 tag in main repository
4. **Enhanced Release Notes**: Include kangaroo download links and integration notes

### B. Kangaroo Desktop App
1. **Version Sync**: Update kangaroo-electron to v0.1.9
2. **CI/CD Trigger**: Push to release branch triggers automated builds
3. **Multi-Platform Builds**: Windows, macOS (Intel/ARM), Linux
4. **GitHub Release**: Automatic release via GitHub Actions
5. **Main-Kangaroo Integration**: Ensure main repo release references kangaroo assets

### C. Homebrew Cask
1. **Version Update**: 0.1.8 ‚Üí 0.1.9
2. **SHA256 Updates**: New checksums for all platform binaries
3. **Repository Update**: Commit to homebrew repository

### D. Deployment Validation
1. **Link Testing**: Verify all download URLs work (main ‚Üí kangaroo)
2. **Installation Testing**: Test on each platform
3. **Integration Testing**: Test desktop app with new webhapp
4. **Cross-Repository Verification**: Ensure proper linking between repositories

## 3. REVISED DEPLOYMENT STRATEGY

### ‚ùå **BROKEN AUTOMATED SYSTEM**
- `bun deploy` - **FAILS** (path errors)
- `bun deploy:dry-run` - **FAILS** (script not found)
- All deployment orchestrators - **NON-FUNCTIONAL**

### ‚úÖ **REVISED MANUAL PROCESS**

#### **PHASE 1: PREPARATION** (Manual Steps)
1. **Update CHANGELOG.md** with v0.1.9 content
2. **Update package.json** version from 0.1.8 ‚Üí 0.1.9  
3. **Commit & Push** changes to dev branch
4. **Create PR** for dev ‚Üí main merge review

#### **PHASE 2: CORE RELEASE** (Manual Commands)
```bash
# 1. Merge and tag main repository
git checkout main
git merge dev
git tag v0.1.9
git push origin main --tags

# 2. Create GitHub release with enhanced notes
gh release create v0.1.9 \
  --title "v0.1.9" \
  --generate-notes \
  --notes "## üöÄ Cross-Platform Release: Desktop App Integration

### üìã Desktop Application
- **Windows**: Download [requests-and-offers-setup.exe](https://github.com/happenings-community/requests-and-offers-kangaroo-electron/releases/download/v0.1.9/requests-and-offers.happenings-community.kangaroo-electron-0.1.9-setup.exe)
- **macOS Intel**: Download [x64.dmg](https://github.com/happenings-community/requests-and-offers-kangaroo-electron/releases/download/v0.1.9/requests-and-offers.happenings-community.kangaroo-electron-0.1.9-x64.dmg)
- **macOS Apple Silicon**: Download [arm64.dmg](https://github.com/happenings-community/requests-and-offers-kangaroo-electron/releases/download/v0.1.9/requests-and-offers.happenings-community.kangaroo-electron-0.1.9-arm64.dmg)
- **Linux**: Download [.deb](https://github.com/happenings-community/requests-and-offers-kangaroo-electron/releases/download/v0.1.9/requests-and-offers.happenings-community.kangaroo-electron_0.1.9_amd64.deb)

### üç∫ Installation Options
```bash
# Via Homebrew
brew install --cask requests-and-offers

# Manual download and installation
# Visit releases page for all platforms: https://github.com/happenings-community/requests-and-offers-kangaroo-electron/releases/tag/v0.1.9
```

### üîó Integration Features
- Desktop app provides enhanced Holochain network management
- Automatic webapp launching and integration
- Cross-platform native performance and notifications
- Local webhapp bundling for offline usage"
```

#### **PHASE 3: KANGAROO RELEASE** (CI/CD Trigger)
```bash
# 1. Update submodule and trigger CI/CD
cd deployment/kangaroo-electron
# Update version in kangaroo.config.ts and package.json to 0.1.9
git add .
git commit -m "chore: bump version to 0.1.9"
git push origin release  # Triggers GitHub Actions builds
```

#### **PHASE 4: HOMEBREW UPDATE** (Manual Steps)
```bash
# 1. Update Homebrew formula with new assets
cd deployment/homebrew
# Update version and SHA256 checksums in Casks/requests-and-offers.rb
git add .
git commit -m "chore: update requests-and-offers to v0.1.9"
git push origin main
```

#### **PHASE 5: CROSS-REPOSITORY INTEGRATION** (Enhanced Validation)
1. **Verify GitHub releases** created in both repositories
2. **Test download links** from main release page to kangaroo assets
3. **Manual installation testing** across all platforms  
4. **Desktop app integration testing** with new webhapp
5. **Documentation updates** to reflect enhanced cross-platform integration

## 4. Available Infrastructure (REVISED ASSESSMENT)

### ‚ùå **BROKEN SCRIPTS**
- `bun deploy` - **NON-FUNCTIONAL**
- `bun deploy:dry-run` - **NON-FUNCTIONAL** 
- `bun deploy:validate` - **NON-FUNCTIONAL**
- `bun deploy:rollback` - **NON-FUNCTIONAL**

### ‚úÖ **WORKING COMPONENTS**
- Kangaroo CI/CD: GitHub Actions configured and functional
- Homebrew repository structure in place
- Git submodules properly configured
- Manual git/gh commands fully functional
- Cross-platform build matrix ready

## 5. Technical Implementation Details

### Main-Kangaroo Linking Strategy:
1. **Enhanced Release Notes**: Include kangaroo download URLs in main repo release
2. **Cross-Reference**: Link repositories in release documentation
3. **Unified Versioning**: Ensure synchronized version numbers
4. **Integration Testing**: Verify desktop app launches with correct webhapp

### Enhanced GitHub Release Features:
- Multi-asset release creation
- Cross-platform download link generation
- Integration documentation in release notes
- Automated checksum verification

## 6. Post-Release Action Items

### **IMMEDIATE (v0.1.9)**
- Use enhanced manual release process with cross-repository linking
- Document successful manual steps for future reference
- Test all cross-platform integration features

### **FUTURE (After v0.1.9)**
- **REBUILD DEPLOYMENT INFRASTRUCTURE** before next release cycle:
  - Fix all path references in deployment scripts
  - Implement proper error handling and validation
  - Add cross-repository coordination features
  - Integrate main-kangaroo linking into deployment automation

## EXECUTION RECOMMENDATION

**For v0.1.9**: Use **REVISED ENHANCED MANUAL PROCESS** with:
1. Cross-repository linking in main release notes
2. Integrated desktop app download URLs
3. Comprehensive validation across both repositories
4. Enhanced user experience with unified installation options

**For future releases**: Rebuild deployment infrastructure to support automated cross-repository releases.